{% if results|length > 0 %}
<ul id="traces">
  {% for trace in results %}
  <li class="trace"
      data-traceId="{{ trace['trace_id'] }}"
      data-duration="*duration"
      data-timestamp="*timestamp"
      data-service-percentage="*servicePercentage">

    <a href="/traces/{{ trace['trace_id'] }}?serviceName={{ trace['serviceName'] }}">
      <div class="bar-block">
        <span class="bar-graphic" style="width:graphicWidth%;"></span>
        <span class="bar-label">{{ trace['duration'] / 1000 }} ms</span>
        <span class="bar-label">{{ trace['spanCount'] }} spans</span>
      </div>
      <div class="bar-block">
        <span class="bar-graphic" style="width:%;"></span>
        <span class="bar-label">{{ trace['serviceName'] }} *servicePercentage%</span>
      </div>
    </a>

    <div class="trace-details services">
      {% for serviceDuration in trace['serviceDurations'] %}
      <span class="label label-default service-filter-label"
            data-service-name="*name">
        {{ serviceDuration['name'] }} x *count {{ (serviceDuration['duration'] / 1000)|round|int }} ms
      </span>
      {% endfor %}
    </div>

    <div class="trace-details timestamp pull-right">
      <time class="label timeago" datetime="{{ trace['startTime'] }}">{{ trace['startTime'] }}</time>
    </div>

  </li>
  {% endfor %}
</ul>
{% endif %}
